(this["webpackJsonprc-todo"]=this["webpackJsonprc-todo"]||[]).push([[0],{125:function(e,t,n){e.exports=n.p+"static/media/logo.eb959cde.svg"},156:function(e,t,n){e.exports=n(319)},319:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),i=(n(161),n(12)),l=n(125),u=n.n(l),s=n(13);function m(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    h2{\n        margin: 0;\n        padding-left: 20px;\n        @media(max-width: 560px){\n        display:none\n    }\n    }\n\n    img{\n        height: 40px;\n    }\n"]);return m=function(){return e},e}var d=s.a.div(m()),p=function(){return r.a.createElement(d,null,r.a.createElement("img",{src:u.a,alt:"Logo"}),r.a.createElement("h2",null,"Todo App"))},f=n(326),E=n(329),h=n(330),b=n(331),g=n(332),v=n(6),y=n(45);function O(){var e=Object(i.a)(["\n    padding:  0 15px;\n    @media(max-width: 560px){\n        padding:0 5px;\n    }\n    a{\n        color: unset;\n        display: inline-flex;\n        align-items: center;\n        padding: 0 8px;\n        span{\n            margin-right:5px\n        }\n\n    }\n"]);return O=function(){return e},e}var w=s.a.span(O()),j={color:"#1890ff",borderBottom:"2px solid #1890ff"},x=Object(v.b)((function(e){return{hasPermission:e.firebase.isAuthenticated}}),{})((function(e){var t=e.hasPermission,n=e.link,a=e.name,c=e.isPrivate,o=e.isPublic,i=e.icon;return c?t?r.a.createElement(w,null,r.a.createElement(y.b,{exact:!0,activeStyle:j,to:n},i," ",a)):null:o?t?null:r.a.createElement(w,null,r.a.createElement(y.b,{exact:!0,activeStyle:j,to:n},i," ",a)):void 0})),T=function(){return r.a.createElement(f.a,{mode:"horizontal"},r.a.createElement(x,{isPrivate:!0,icon:r.a.createElement(E.a,null),link:"/",name:"Todos"}),r.a.createElement(x,{isPrivate:!0,icon:r.a.createElement(h.a,null),link:"/profile",name:"Profile"}),r.a.createElement(x,{isPublic:!0,icon:r.a.createElement(b.a,null),link:"/login",name:"Login"}),r.a.createElement(x,{isPublic:!0,icon:r.a.createElement(g.a,null),link:"/register",name:"Register"}),r.a.createElement(x,{isPrivate:!0,icon:r.a.createElement(b.a,null),link:"/logout",name:"Logout"}))};function A(){var e=Object(i.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n"]);return A=function(){return e},e}var P=s.a.div(A()),I=function(){return r.a.createElement(P,null,r.a.createElement(p,null),r.a.createElement(T,null))};function k(){var e=Object(i.a)(["\nmax-width: 1200px;\n    width: 100%;\n    margin: 2rem auto;\n    min-height: 100vh;\n    background: #fff;\n    padding: 3rem;\n    border: 1px solid #ededed;\n    border-radius: 4px;\n    box-shadow: 0px 0px 10px -5px #ededed;\n    @media(max-width: 1300px){\n        margin:0 auto;\n        padding:1rem;\n        border:none;\n        width:100%;\n    }\n\n"]);return k=function(){return e},e}var C=s.a.div(k()),N=function(e){var t=e.children;return r.a.createElement(C,null,t)},D=function(e){var t=e.children;return r.a.createElement(N,null,r.a.createElement(I,null),t)},F=n(323),S=n(325),L=n(104),M=n(333),U=n(17),_=n.n(U),R=n(36),V=n(86),B=n.n(V);n(211),n(212);B.a.initializeApp({apiKey:"AIzaSyCPOoAAXmwY6dH6-AItEv6sQYFgP5hZnVI",authDomain:"rc-todo-4b65c.firebaseapp.com",databaseURL:"https://rc-todo-4b65c.firebaseio.com",projectId:"rc-todo-4b65c",storageBucket:"rc-todo-4b65c.appspot.com",messagingSenderId:"529743216324",appId:"1:529743216324:web:2d2586d769b21d647d1391",measurementId:"G-3HQ0NNTYC2"});var W=B.a.firestore(),z=B.a,Y="FETCH_TODOS",q="USER_NAME_UPDATED",G="USER_PASSWORD_UPDATED",H="USER_EMAIL_UPDATED",J="ADD_TODO",Q="DELETE_TODO",K="MOVE_TODO",X="LOGIN_SUCCESS",Z="REGISTER_SUCCESS",$="FIREBASE_LOADED",ee="LOGOUT",te=n(327),ne=function(e){return te.a.error(e)},ae=function(e){return te.a.success(e)},re=Object(v.b)(null,{login:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:z.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){ae("Welcome ".concat(e.user.displayName))})).catch((function(e){ne(e.message)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.login;return r.a.createElement("div",{className:"login-from"},r.a.createElement(F.a,{name:"normal_login",className:"login-form",onFinish:function(e){t({email:e.email,password:e.password})}},r.a.createElement(F.a.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(S.a,{prefix:r.a.createElement(h.a,{className:"site-form-item-icon"}),placeholder:"Email"})),r.a.createElement(F.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(S.a,{prefix:r.a.createElement(M.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(F.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"))))}));function ce(){var e=Object(i.a)(["\n    max-width: 315px;\n    margin-top:3rem;\n    h2{\n        margin-bottom:2rem\n    }\n"]);return ce=function(){return e},e}var oe=s.a.div(ce()),ie=function(e){var t=e.children;return r.a.createElement(oe,null,t)},le=function(){return r.a.createElement(ie,null,r.a.createElement("h2",null,"Login"),r.a.createElement(re,null))},ue=n(334),se=Object(v.b)(null,{register:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:z.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){var n=z.auth().currentUser;n.updateProfile({displayName:e.displayName}).then((function(){n.sendEmailVerification().then((function(){ae("Please verify your email")})).catch((function(e){ne(e.message)}))})).catch((function(e){ne(e.message)}))})).catch((function(e){ne(e.message)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.register;return r.a.createElement("div",{className:"register-from"},r.a.createElement(F.a,{onFinish:function(e){t({displayName:e.displayName,email:e.email,password:e.password})}},r.a.createElement(F.a.Item,{hasFeedback:!0,name:"displayName",rules:[{required:!0,message:"Please input your name!"}]},r.a.createElement(S.a,{prefix:r.a.createElement(h.a,null),placeholder:"Your Name",allowClear:!0})),r.a.createElement(F.a.Item,{hasFeedback:!0,name:"email",rules:[{required:!0,message:"Please input your email!"}]},r.a.createElement(S.a,{prefix:r.a.createElement(ue.a,null),placeholder:"Email",type:"email",allowClear:!0})),r.a.createElement(F.a.Item,{hasFeedback:!0,name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(S.a,{prefix:r.a.createElement(M.a,null),type:"password",placeholder:"Password",allowClear:!0})),r.a.createElement(F.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Register"))))})),me=function(){return r.a.createElement(ie,null,r.a.createElement("h2",null,"Register"),r.a.createElement(se,null))},de=Object(v.b)(null,{logout:function(){return function(){var e=Object(R.a)(_.a.mark((function e(t,n){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().firebase.user.displayName,z.auth().signOut().then((function(){ae("Bye "+a+" see you soon "+String.fromCharCode(55357,56836)),t({type:ee,payload:""})})).catch((function(e){ne(e.message)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})((function(e){var t=e.logout;return Object(a.useEffect)((function(){t()}),[t]),null})),pe=n(14),fe=Object(v.b)((function(e){return{isAuthenticated:e.firebase.isAuthenticated}}),{})((function(e){var t=e.path,n=e.to,a=e.isAuthenticated,c=e.component;return a?r.a.createElement(pe.b,{to:n,path:t,component:c}):r.a.createElement(pe.a,{to:"/login"})})),Ee=Object(v.b)((function(e){return{isAuthenticated:e.firebase.isAuthenticated}}),{})((function(e){var t=e.path,n=e.to,a=e.isAuthenticated,c=e.component;return a?r.a.createElement(pe.a,{to:"/"}):r.a.createElement(pe.b,{to:n,path:t,component:c})})),he=n(140);function be(){var e=Object(i.a)(["\n    width: 100vw;\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n"]);return be=function(){return e},e}var ge=s.a.div(be()),ve=function(){return r.a.createElement(ge,null,r.a.createElement(he.a,null))};function ye(){var e=Object(i.a)(["\n\n    border: 2px dashed #ededed;\n    padding: 25px;\n\n"]);return ye=function(){return e},e}var Oe=s.a.div(ye()),we=function(e){var t=e.name;return r.a.createElement(Oe,null,r.a.createElement("h2",null,"Welcome ",t||null),r.a.createElement("p",null,"Here you can change your profile"))};function je(){var e=Object(i.a)(["\n\n    margin:3rem 0;\n    h3{\n        margin-bottom:1.5rem;\n    }\n\n"]);return je=function(){return e},e}var xe=s.a.div(je()),Te=Object(v.b)((function(e){return{userMeta:e.firebase.user}}),{updateUser:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=z.auth().currentUser,(e.displayName||e.password||e.email)&&(e.email&&a.updateEmail(e.email).then((function(){a.sendEmailVerification().then((function(){n({type:H,payload:e.email})})).catch((function(e){ne(e.message)}))})).catch((function(e){ne(e.message)})),e.password&&a.updatePassword(e.password).then((function(){n({type:G})})).catch((function(e){ne(e.message)})),e.displayName&&a.updateProfile({displayName:e.displayName}).then((function(){n({type:q,payload:e.displayName})})).catch((function(e){ne(e.message)})),ae("Successfully updated"));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.userMeta,n=e.updateUser;return r.a.createElement(xe,null,r.a.createElement("h3",null,"Update Your Profile"),r.a.createElement(F.a,{onFinish:function(e){console.log(e),n({displayName:e.displayName,password:e.password,email:e.email})}},r.a.createElement(F.a.Item,{hasFeedback:!0,name:"displayName"},r.a.createElement(S.a,{prefix:r.a.createElement(h.a,null),placeholder:t.displayName?t.displayName:"Your Name",allowClear:!0})),r.a.createElement(F.a.Item,{hasFeedback:!0,name:"email"},r.a.createElement(S.a,{prefix:r.a.createElement(ue.a,null),placeholder:t.email?t.email:"Email",type:"email",allowClear:!0})),r.a.createElement(F.a.Item,{hasFeedback:!0,name:"password"},r.a.createElement(S.a,{prefix:r.a.createElement(M.a,null),type:"password",placeholder:"Password",allowClear:!0})),r.a.createElement(F.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Update"))))}));function Ae(){var e=Object(i.a)(["\n    margin:3rem 0;\n"]);return Ae=function(){return e},e}var Pe=s.a.div(Ae()),Ie=Object(v.b)((function(e){return{userMeta:e.firebase.user}}),{})((function(e){var t=e.userMeta;return r.a.createElement(Pe,null,r.a.createElement(we,{name:t.displayName}),r.a.createElement(Te,null))})),ke=n(328),Ce=n(324),Ne=n(32),De=function(e){return function(){var t=Object(R.a)(_.a.mark((function t(n,a){var r,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[],c=a().firebase.user.uid,n({type:Y,loading:!0}),e?W.collection("todos").where("status","==",e).where("userId","==",c).orderBy("date","desc").get().then((function(e){e.forEach((function(e){var t=Object(Ne.a)(Object(Ne.a)({},e.data()),{},{id:e.id});r.push(t)})),n({type:Y,payload:r,loading:!1})})):W.collection("todos").where("userId","==",c).orderBy("date","desc").get().then((function(e){e.forEach((function(e){var t=Object(Ne.a)(Object(Ne.a)({},e.data()),{},{id:e.id});r.push(t)})),n({type:Y,payload:r,loading:!1})}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Fe=n(151),Se=n(335),Le=function(e){var t=e.deleteTodo;return r.a.createElement(Fe.a,{placement:"top",title:"Delete Todo"},r.a.createElement(L.a,{type:"link",onClick:t},r.a.createElement(Se.a,{twoToneColor:"#f5222d"})))},Me=n(336),Ue=n(337),_e=function(e){var t=e.moveTodo,n=e.isActive;return r.a.createElement(Fe.a,{placement:"top",title:"COMPLETED"===n?"Move To Active":"Move To Completed"},r.a.createElement(L.a,{type:"link",onClick:t},"COMPLETED"===n?r.a.createElement(Me.a,null):r.a.createElement(Ue.a,null)))};function Re(){var e=Object(i.a)(["\n\n    margin-right: 20px;\n    width: 20px;\n    display: flex;\n    height: 20px;\n    align-items: center;\n    justify-content: center;\n    position: relative;\n    background: #1a90ff;\n    border-radius: 3px;\n    color: #fff;\n    font-size: 13px;\n\n"]);return Re=function(){return e},e}function Ve(){var e=Object(i.a)(["\n    margin: 2rem 0;\n"]);return Ve=function(){return e},e}var Be=s.a.div(Ve()),We=s.a.h4(Re()),ze=Object(v.b)((function(e){return{loading:e.todos.loading}}),{removeTodo:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W.collection("todos").doc(e).delete().then((function(){ae("Deleted successfully"),n({type:Q,payload:e})})).catch((function(e){ne(e.message)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},moveTodo:function(e,t){return function(){var n=Object(R.a)(_.a.mark((function n(a){return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:W.collection("todos").doc(e).update({status:t}).then((function(){console.log(t),"ACTIVE"===t?ae("Moved to active "):"COMPLETED"===t&&ae("Moved to completed "),a({type:K,payload:e})})).catch((function(e){ne(e.message)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.data,n=e.moveTodo,a=e.removeTodo,c=e.loading,o=Object(pe.g)();return r.a.createElement(Be,null,r.a.createElement(Ce.b,{loading:c,itemLayout:"horizontal",dataSource:t,renderItem:function(e,t){return r.a.createElement(Ce.b.Item,{key:e.id},r.a.createElement(We,null,t+1),r.a.createElement(Ce.b.Item.Meta,{title:e.name}),function(e){return"/"===o.pathname?r.a.createElement(ke.a,{color:"ACTIVE"===e.status?"red":"green"},e.status):r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,{isActive:e.status,moveTodo:function(){return n(e.id,"ACTIVE"===e.status?"COMPLETED":"ACTIVE")}}),r.a.createElement(Le,{deleteTodo:function(){return a(e.id)}}))}(e))}}))})),Ye=n(152),qe=n(338),Ge=n(148);function He(){var e=Object(i.a)(["\n        margin-bottom:3rem;\n        margin-top:3rem;\n"]);return He=function(){return e},e}var Je=s.a.div(He()),Qe=Object(v.b)((function(e){return{userId:e.firebase.user.uid}}),{addTodo:function(e){return function(){var t=Object(R.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W.collection("todos").add(e).then((function(t){var a;a=Object(Ne.a)(Object(Ne.a)({},e),{},{id:t.id}),n({type:J,payload:a}),ae("Added successfully")})).catch((function(e){ne(e.message)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addTodo,n=e.userId,a=F.a.useForm(),c=Object(Ye.a)(a,1)[0];return r.a.createElement(Je,null,r.a.createElement(F.a,{form:c,onFinish:function(e){if(e.name){var a={name:e.name,status:"ACTIVE",date:Ge.firestore.Timestamp.fromDate(new Date),userId:n};t(a),c.resetFields()}},layout:"inline"},r.a.createElement(F.a.Item,{name:"name",hasFeedback:!0},r.a.createElement(S.a,{allowClear:!0,prefix:r.a.createElement(qe.a,null),placeholder:"Add Todo"})),r.a.createElement(F.a.Item,null,r.a.createElement(L.a,{type:"primary",htmlType:"submit"},"Add"))))})),Ke=n(339),Xe=n(340),Ze=n(341),$e=function(){return r.a.createElement(f.a,{mode:"horizontal"},r.a.createElement(x,{isPrivate:!0,link:"/",icon:r.a.createElement(Ke.a,null),name:"All"}),r.a.createElement(x,{isPrivate:!0,link:"/active",icon:r.a.createElement(Xe.a,null),name:"Active"}),r.a.createElement(x,{isPrivate:!0,link:"/completed",icon:r.a.createElement(Ze.a,null),name:"Completed"}))},et=Object(v.b)((function(e){return{todos:e.todos.items}}),{fetchTodos:De})((function(e){var t=e.fetchTodos,n=e.todos;return Object(a.useEffect)((function(){return t("ACTIVE"),function(){t("ACTIVE")}}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,null),r.a.createElement($e,null),r.a.createElement(ze,{data:n}))})),tt=Object(v.b)((function(e){return{todos:e.todos.items}}),{fetchTodos:De})((function(e){var t=e.fetchTodos,n=e.todos;return Object(a.useEffect)((function(){return t(),function(){t()}}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,null),r.a.createElement($e,null),r.a.createElement(ze,{data:n}))})),nt=Object(v.b)((function(e){return{todos:e.todos.items}}),{fetchTodos:De})((function(e){var t=e.fetchTodos,n=e.todos;return Object(a.useEffect)((function(){return t("COMPLETED"),function(){t("COMPLETED")}}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,null),r.a.createElement($e,null),r.a.createElement(ze,{data:n}))})),at=Object(v.b)((function(e){return{isFirebaseloaded:e.firebase.isFirebaseloaded}}),{initFirebase:function(){return function(){var e=Object(R.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z.auth().onAuthStateChanged((function(e){e&&t({type:X,payload:e}),t({type:$,payload:!0})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.initFirebase,n=e.isFirebaseloaded;return Object(a.useEffect)((function(){t()}),[t]),n?r.a.createElement(y.a,null,r.a.createElement(D,null,r.a.createElement(pe.d,null,r.a.createElement(fe,{exact:!0,path:"/",component:tt}),r.a.createElement(fe,{exact:!0,path:"/active",component:et}),r.a.createElement(fe,{exact:!0,path:"/completed",component:nt}),r.a.createElement(fe,{exact:!0,path:"/profile",component:Ie}),r.a.createElement(Ee,{exact:!0,path:"/login",component:le}),r.a.createElement(Ee,{exact:!0,path:"/register",component:me}),r.a.createElement(fe,{exact:!0,path:"/logout",component:de})))):r.a.createElement(ve,null)}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rt=n(48),ct=n(149),ot=n(66),it={isAuthenticated:!1,user:{},isFirebaseloaded:!1},lt={items:[],loading:!1},ut=Object(rt.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object.assign({},e,{items:t.payload,loading:t.loading});case J:return Object.assign({},e,{items:[t.payload].concat(e.items)});case K:case Q:return Object.assign({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},firebase:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object.assign({},e,{isAuthenticated:!0});case X:return Object.assign({},e,{isAuthenticated:!0,user:t.payload});case $:return Object.assign({},e,{isFirebaseloaded:t.payload});case ee:return Object.assign({},e,{isAuthenticated:!1,user:t.payload});case q:return Object(Ne.a)(Object(Ne.a)({},e),{},Object(ot.a)({},e.user.displayName,t.payload));case H:return Object(Ne.a)(Object(Ne.a)({},e),{},Object(ot.a)({},e.user.email,t.payload));case G:default:return e}}}),st=rt.d,mt=Object(rt.e)(ut,st(Object(rt.a)(ct.a)));o.a.render(r.a.createElement(v.a,{store:mt},r.a.createElement(at,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[156,1,2]]]);
//# sourceMappingURL=main.7da71e5e.chunk.js.map